(function(b){if(b.getElementById("translate_update")){var a=b.getElementsByTagName("textarea"),f=b.getElementsByClassName("recopy_message"),g=b.getElementsByClassName("validate_translation"),d=a.length,e={data:{},url:b.URL.replace(/translate\/edit\/.*$/gi,"translate/ajax/edit"),type:"post",dataType:"json",success:function(h){console.info(h)}};func_update_translation=function(){var h=this;if(h.value){h.classList.add("disabled");e.data={locale:b.URL.replace(/^.*translate\/edit\/([a-z]+)\/([a-zA-Z_]+)$/gi,"$1"),route:b.URL.replace(/^.*translate\/edit\/([a-z]+)\/([a-zA-Z_]+)$/gi,"$2"),word:b.getElementById(this.id.replace("translation","expression")).value,translation:this.value};e.error=function(){h.classList.remove("disabled")};e.success=function(i){h.classList.remove("disabled");console.info(i);h.parentNode.classList.remove("has-warning");h.parentNode.classList.remove("has-error");h.parentNode.classList.remove("has-success");if(i&&i.translated){h.parentNode.classList.remove("has-error");h.parentNode.classList.add("has-success")}else{h.parentNode.classList.remove("has-success");h.parentNode.classList.add("has-warning")}};$.ajax(e)}},func_textarea_changevalue=function(){var h=this;h.parentNode.classList.remove("has-success");h.parentNode.classList.remove("has-error");if(h.time_change){clearTimeout(h.time_change)}if(h.value){h.parentNode.classList.add("has-warning");if(b.getElementById("always_save").checked){h.time_change=setTimeout(function(){if(h.value){h.updateTranslation()}},1000)}if(h.getAttribute("data-modified")==="false"){h.setAttribute("data-modified","true")}}},func_copy_initial_content=function(){var i=this.getAttribute("data-target-item"),h=b.getElementById(i),j=b.getElementById(i.replace("translation","expression"));h.innerHTML=j.value;if(j.value){h.onchange()}},func_validator_button=function(){b.getElementById(this.getAttribute("data-target-item")).updateTranslation()};for(var c=0;c<d;c++){a[c].updateTranslation=func_update_translation;g[c].onclick=func_validator_button;a[c].onkeypress=func_textarea_changevalue;a[c].onchange=func_textarea_changevalue;f[c].onclick=func_copy_initial_content}b.getElementById("always_save").checked=true;b.getElementById("always_save").onchange=function(){$(".validate_translation.hide").removeClass("hide");if(this.checked){$(".validate_translation").slideUp(400)}else{$(".validate_translation").slideDown(400)}}}})(document);