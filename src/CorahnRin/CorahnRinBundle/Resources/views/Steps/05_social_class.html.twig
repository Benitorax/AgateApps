{% extends '@CorahnRin/Steps/step_base.html.twig' %}

{% block step_content %}
<input type="hidden" name="gen-div-choice" id="gen-div-choice" value="{{ socialClass_value }}" />
<div class="row">
{% for socialClass in socialClasses %}
    <div class="col-sm-6 gen-div-choice{% if socialClass_value == socialClass.id %} selected{% endif %}"
         data-div-choice-value="{{ socialClass.id }}"
         data-divchoice-inside="true"
         data-input-container="socialClassDomains"
         data-divchoice-maxSelected="2">
        <article>
            <header>
                <h3 class="text-center">{{ socialClass.name | trans }}</h3>
            </header>
            <p>{{ socialClass.description | trans | raw }}</p>
            <div class="divchoice-inside"{{ socialClass_value == socialClass.id ? ' style="display:block;"' : '' }}>
                <p>{{ '+1 dans deux domaine parmi les suivants' | trans }} :</p>
                <div data-toggle="buttons" data-max-buttons="2">
                    {% for domain in socialClass.domains %}
                    <label for="button_{{ socialClass.id }}_{{ domain.id }}" class="btn btn-inverse{{ socialClassDomains[domain.id] is defined ? ' active' : '' }}">
                        <input type="checkbox" id="button_{{ socialClass.id }}_{{ domain.id }}" name="domains[{{ socialClass.id }}][{{ domain.id }}]" {{ socialClassDomains[domain.id] is defined ? ' checked="checked"' : '' }} />
                        {{ domain.name | trans }}
                    </label>
                    {% endfor %}
                </div>
            </div>
        </article>
    </div>
    {% if loop.index % 2 == 0 %}
</div><!--/.row-->
<div class="row">
    {% endif %}
{% else %}
    <p class="alert alert-error">{{ 'Une erreur est survenue lors du chargement de la liste des environnements g√©ographiques' | trans }}</p>
{% endfor %}
</div>
{% endblock %}
